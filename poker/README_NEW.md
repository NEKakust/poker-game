# Покер - Расширенная версия

Это расширенная версия покера с полным набором объектов для управления игрой.

## Новые классы

### 1. Result (Результат)
- **Назначение**: Хранение результатов игры
- **Функции**: Сохранение информации о победителе, комбинациях, банке
- **Файлы**: `Result.h`, `Result.cpp`

### 2. GameBoard (Игровое поле)
- **Назначение**: Управление игровым полем и фазами игры
- **Функции**: Управление общими картами, фазами игры (префлоп, флоп, терн, ривер)
- **Файлы**: `GameBoard.h`, `GameBoard.cpp`

### 3. HandEvaluator (Оценщик комбинаций)
- **Назначение**: Оценка покерных комбинаций
- **Функции**: Определение силы руки, сравнение комбинаций
- **Файлы**: `HandEvaluator.h`, `HandEvaluator.cpp`

### 4. Bank (Банк)
- **Назначение**: Управление ставками и распределение выигрышей
- **Функции**: Сбор ставок, управление банком, распределение выигрышей
- **Файлы**: `Bank.h`, `Bank.cpp`

### 5. BotPlayer (Игрок-бот)
- **Назначение**: ИИ-противник для игры с человеком
- **Функции**: Принятие решений, различные уровни сложности
- **Файлы**: `BotPlayer.h`, `BotPlayer.cpp`

### 6. Timer (Таймер)
- **Назначение**: Ограничение времени на ход
- **Функции**: Отсчет времени, автоматические действия при истечении времени
- **Файлы**: `Timer.h`, `Timer.cpp`

### 7. BetHistory (История ставок)
- **Назначение**: Ведение истории всех ставок
- **Функции**: Запись действий игроков, статистика, экспорт данных
- **Файлы**: `BetHistory.h`, `BetHistory.cpp`

### 8. Wallet (Кошелек)
- **Назначение**: Управление балансом игрока
- **Функции**: Пополнение, снятие, история транзакций, статистика
- **Файлы**: `Wallet.h`, `Wallet.cpp`

### 9. StateManager (Менеджер состояния/прогресса)
- **Назначение**: Управление состоянием игры и прогрессом
- **Функции**: Управление сессиями, состояниями игроков, переходами между фазами
- **Файлы**: `StateManager.h`, `StateManager.cpp`

## Структура проекта

```
poker/
├── Card.h/cpp           # Карта
├── Deck.h/cpp           # Колода
├── Player.h/cpp         # Игрок (базовый)
├── PokerGame.h/cpp     # Основная игра (оригинальная)
├── Result.h/cpp        # Результат игры
├── GameBoard.h/cpp     # Игровое поле
├── HandEvaluator.h/cpp # Оценщик комбинаций
├── Bank.h/cpp          # Банк
├── BotPlayer.h/cpp     # Игрок-бот
├── Timer.h/cpp         # Таймер
├── BetHistory.h/cpp    # История ставок
├── Wallet.h/cpp        # Кошелек
├── StateManager.h/cpp  # Менеджер состояния
├── main.cpp            # Оригинальный main
├── main_new.cpp        # Новый main с использованием всех классов
└── CMakeLists.txt      # Конфигурация сборки
```

## Возможности

### Управление игроками
- Создание человеческих игроков и ботов
- Умная система принятия решений бота
- Адаптивное поведение в зависимости от фазы игры

### Управление финансами
- Кошелек с пополнением и снятием средств
- История всех транзакций
- Статистика выигрышей и проигрышей
- Автоматическое сохранение данных

### Игровой процесс
- Полный цикл покера (префлоп, флоп, терн, ривер, шоудаун)
- Таймер на ход с автоматическими действиями
- История всех ставок и действий
- Система банка с распределением выигрышей

### Управление состоянием
- Менеджер состояний игры
- Управление сессиями
- Автоматическое сохранение прогресса
- Восстановление игры

## Сборка

```bash
mkdir build
cd build
cmake ..
make
```

## Использование

### Оригинальная версия
```bash
./poker
```

### Новая расширенная версия
Замените `main.cpp` на `main_new.cpp` в CMakeLists.txt или используйте:
```bash
g++ -std=c++20 main_new.cpp *.cpp -o poker_new
./poker_new
```

## Особенности реализации

- **C++20**: Использование современных возможностей C++
- **Умные указатели**: `std::shared_ptr` для управления памятью
- **STL контейнеры**: `std::vector`, `std::map` для хранения данных
- **Многопоточность**: `std::thread` для таймера
- **Файловая система**: Сохранение и загрузка данных
- **ООП**: Полная объектно-ориентированная архитектура

## Расширения

Все классы спроектированы для расширения:
- Добавление новых типов игроков
- Новые режимы игры
- Сетевая игра
- Графический интерфейс
- Дополнительные статистики и аналитика
